;*******************************************************************************
;*  标题:                  试验数码管静态显示数字                              *
;*																			   *
;*  连接方法：P0 与JP3 用8PIN排线连接	                                       *
;********************************************************************************
;*                         	       										       *
;* 请学员认真消化本例程，用单片机脚直接控制数码管                              *
;********************************************************************************/	
	ORG 0000H
	LJMP INTI
	ORG 030H
INTI:	MOV 20H,#00H   ;初始化地址20H的数据
	    MOV A,20H	   ;初始化地址累加器

MAIN:	
   	ANL A,#0FH	    ;屏蔽累加器的高4位
	MOV DPTR,#TAB	;将数据表格的首地址 0100H存入16位的数据地址指针DPTR中
	MOVC A,@A+DPTR	;查表
	MOV P0,A	    ;将累加器的值送到P0口显示
  	ACALL DEL	    ;调用延时子程序
	MOV A,20H		;将20H单元的数据传送给累加器
	INC A			;累加器+1
	DA A			;二-十进制调整
	MOV 20H, A		 
	AJMP MAIN

;--------------------------------------------------------------
;延时子程序
;--------------------------------------------------------------
DEL: 	MOV R7,#010H
DEL1:	MOV R6,#0FFH
DEL2:   MOV R5,#01FH
DEL3:	DJNZ R5,DEL3
	DJNZ R6,DEL2
	DJNZ R7,DEL1
	RET


	ORG 0100H
TAB:	DB 0C0H,0F9H,0A4H,0B0H,99H,92H,82H,0F8H		;LED字模表
	DB 80H,90H,88H,83H,0C6H,0A1H,86H,08EH
	END

;/此表为 LED 的字模            
; 0    1    2    3    4    5    6   7    8    9    A    b    c    d    E    -    L   P    U    Hidden  _ (20)
;{ 0xC0,0xF9,0xA4,0xB0,0x99,0x92,0x82,0xF8,0x80,0x90,0x88,0x83,0xC6,0xA1,0x86,0xbf,0xc7,0x8c,0xc1, 0xff,  0xf7 }; 

