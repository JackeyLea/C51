/*******************************************************************************
 *  描述:   跑马灯程序                                                          *
 *  连接方法： JP11（P2）和J12(LED灯) 用8PIN排线连接起来						   *
 *																			   *
 *******************************************************************************/

#include "mcs51/8051.h"

/*****************************************************************************
 *  延时子程序															     *
 *																			 *
 ******************************************************************************/
void delayms(unsigned char ms) {
    unsigned char i;
    while (ms--) {
        for (i = 0; i < 120; i++)
            ;
    }
}

/*****************************************************************************
 *  主程序															         *
 *																			 *
 ******************************************************************************/
main() {
    unsigned char LED;
    LED = 0xfe;
    P2  = LED;
    while (1) {
        delayms(250);
        LED = (LED<<(8-1))|(LED>>1); //循环右移1位，点亮下一个LED
        P2  = LED;
    }
}
